<div class="wrapper">
    <main>
        <div class="left">
            <h1><img src="./assets/images/time_flip.png" /><span>TimeGuess</span></h1>
            <h2>{{ isLogin ? 'Login' : 'Register' }}</h2>

            <form [formGroup]="loginForm">
                <mat-form-field appearance="outline" color="primary">
                    <mat-label>Username</mat-label>
                    <input matInput type="text" formControlName="username" />
                    <mat-error *ngIf="getFormError('username') != null">{{ getFormError('username') }}</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline" color="primary">
                    <mat-label>Password</mat-label>
                    <input matInput type="password" formControlName="password" />
                    <mat-error *ngIf="getFormError('password') != null">{{ getFormError('password') }}</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline" color="primary" *ngIf="!isLogin">
                    <mat-label>Repeat password</mat-label>
                    <input matInput type="password" formControlName="password_confirm" />
                    <mat-error *ngIf="getFormError('password_confirm') != null">{{
                        getFormError('password_confirm')
                    }}</mat-error>
                </mat-form-field>

                <mat-slide-toggle color="primary" formControlName="remember">Remember me</mat-slide-toggle>

                <div class="form_footer">
                    <button mat-raised-button color="primary" (click)="action()" [disabled]="loading">
                        {{ isLogin ? 'Login' : 'Register' }}
                    </button>

                    <mat-spinner *ngIf="loading" diameter="20"></mat-spinner>

                    <span *ngIf="error" class="error">{{ error }}</span>
                </div>
            </form>

            <p *ngIf="isLogin">
                Don't have an account yet?
                <a [routerLink]="loading ? null : '/register'" [class.disabled]="loading">Register</a>
            </p>
            <p *ngIf="!isLogin">
                Already have an account?
                <a [routerLink]="loading ? null : '/login'" [class.disabled]="loading">Login</a>
            </p>
        </div>

        <div class="right">
            <img src="./assets/images/time_flip_large.png" />
        </div>
    </main>

    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 501.7" class="bg-curve">
        <path
            d="M1920,873.377c-262.472,110.771-663.847-38.551-976.984-140.655-143.031-46.638-164.516-59.431-290.186-105.6C251.328,479.6,0,732.722,0,732.722v349.923H1920Z"
            transform="translate(0 -580.945)"
        />
    </svg>
</div>
